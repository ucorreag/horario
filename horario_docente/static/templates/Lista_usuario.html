{% extends 'base.html' %}
{% block content %}
               <div class="panel panel-default">
                <nav class="navbar navbar-inverse theme_border">
                       <div class="form-horizontal">
                           <h4 class="text-center" style="color: #f6faff">
                                          Lista de Usuarios
                               
                           </h4>
                       </div>
                   </nav>

        <table id="table" class="table table-striped table-hover">

                <tr>
                 <th >#</th>
                 <th >Nombres:</th>
                 <th >Apellidos:</th>
                 <th >Nombre de Usuario:</th>
                 <th >Correo web:</th>
                 <th >Rol:</th>                 
                <th >Operaciones:</th>
                </tr>



        {% for object in contacts %}
           <tr>

            <td name="conter"> </td>
            <td >{{ object.first_name}}</td>
            <td >{{ object.last_name}}</td>
             <td >{{ object.username}}</td>
            <td >{{ object.email}}</td>
            <td>{{object.groups.get}}</td>

              

          <td style="min-width:10px; max-width:180px; width:800px">
          	<a href="{% url 'usuario' object.id  %}" class="btn btn-default " data-toggle="tooltip" title="Ver">
          		<span class="glyphicon glyphicon-user"> </span>
          	</a>
          		
          	<a href="{% url 'actualizar' object.id %}" class="btn btn-default " data-toggle="tooltip" title="Modificar">
          		<span class="glyphicon glyphicon-wrench"> </span>
          	</a>
          		
            <a href="#" onclick="return false;" name="{% url 'eliminar' object.id %}" id="eliminar" class="btn btn-default"   title="Ver">
            	<span class="glyphicon glyphicon-trash" data-tooltip="tooltip" data-placement="left" data-original-title="Eliminar" title="Eliminar"> </span>
            </a>
             <h1 class="hidden" id = "nombre">¿Está seguro que quirere eliminar el usuario {{ object.first_name }} {{ object.last_name }}?</h1>
           {% endfor %}

   </table>
   
 <div>
    <ul class="paginador pager">
    <span class="step-links">
        {% if contacts.has_previous %}
            <li><a  class="" href="?page={{ contacts.previous_page_number }}">&laquo;</a></li>
        {% else %}
        <li class="disabled"><a  class="btn btn-primary " href="?page={{ 0 }}">&laquo;</a></li>
        {% endif %}
       <li> <span class="">
              <b> </b>  Paginas {{ contacts.number }} de {{ contacts.paginator.num_pages }}.
              
        </span></li>
        {% if contacts.has_next %}
             <li><a  class="" href="?page={{ contacts.next_page_number }}">&raquo;</a></li>
        {% else %}
            <li class="disabled"><a  class=" " href="?page={{0}}">&raquo;</a></li>

        {% endif %}
    </span>
    </ul>
    </div>
  
   </div>





 <div class="modal fade" id="myeliminar" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
      
      <div class="modal-dialog" role="document">
        <div class="modal-content">
             <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hiden="true">&times;</span></button>
                    <h4 class="modal-title " >Eliminar</h4>
             </div>
             <div id = "contenedor" class="modal-body">
               <h4 id="texto" style = "text-align: center" ></h4>
             </div>
             <div class="modal-footer">
                <form id = "formulario" action= '' method='POST' class=' form-inline botonCentrado'>
                  {% csrf_token %}
                  <input type='submit' class='btn btn-danger'  value='Eliminar' class='btn btn-primary'>
                  <input type='button'  class='btn btn-default' value='Cancelar' data-dismiss='modal'>
                </form>
               </div>
               
       </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div><!-- /.modal -->





 {% block extra_js %}
   <script>   
            window.addEventListener('load', function(){
            	
            	var k1=document.getElementsByName('conter');
            	for (var i=0; i < k1.length; i++) {
            	var jj=(i+1)+(({{ contacts.number }}-1)*5);
            	  
				  k1[i].innerHTML=(jj)+"";
				};            	
            });
            	
     </script>
     <script>
         jQuery(function($){
             $('a#eliminar').click(function(){
               var $texto= $(this).next().text();
               $('#texto').text($texto);
               $('#formulario').attr('action',$(this).attr('name'));
               $('#myeliminar').modal('show');
               
             });
             
         });
         
     </script>
            
            
            
 {% endblock  %}
{% endblock %}